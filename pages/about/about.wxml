<view class="container {{theme === 'dark' ? 'dark-theme' : 'light-theme'}}">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <image src="{{userInfo.avatar}}" class="avatar"></image>
    <view class="user-info">
      <view class="user-name">{{userInfo.nickname}}</view>
      <view class="user-bio">{{userInfo.bio}}</view>
      <view class="user-stats">
        <view class="stat-item">
          <text class="stat-number">{{userInfo.followers}}</text>
          <text class="stat-label">å…³æ³¨è€…</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{userInfo.following}}</text>
          <text class="stat-label">å…³æ³¨ä¸­</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{userInfo.posts}}</text>
          <text class="stat-label">å‘å¸ƒ</text>
        </view>
      </view>
    </view>
    <button class="edit-btn" bindtap="editProfile">ç¼–è¾‘</button>
  </view>

  <!-- æ ‡ç­¾æ  -->
  <view class="tab-bar">
    <view class="tab-item {{activeTab === 'profile' ? 'active' : ''}}" bindtap="switchTab" data-tab="profile">
      <text>ä¸ªäººä¿¡æ¯</text>
    </view>
    <view class="tab-item {{activeTab === 'posts' ? 'active' : ''}}" bindtap="switchTab" data-tab="posts">
      <text>æˆ‘çš„å‘å¸ƒ</text>
    </view>
    <view class="tab-item {{activeTab === 'history' ? 'active' : ''}}" bindtap="switchTab" data-tab="history">
      <text>æµè§ˆå†å²</text>
    </view>
    <view class="tab-item {{activeTab === 'settings' ? 'active' : ''}}" bindtap="switchTab" data-tab="settings">
      <text>è®¾ç½®</text>
    </view>
  </view>

  <!-- ä¸ªäººä¿¡æ¯å†…å®¹ -->
  <view wx:if="{{activeTab === 'profile'}}" class="content">
    <view class="info-card">
      <view class="info-item">
        <text class="info-label">ç”¨æˆ·ID</text>
        <text class="info-value">{{userInfo.id}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">åŠ å…¥æ—¶é—´</text>
        <text class="info-value">{{userInfo.joinDate}}</text>
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„å‘å¸ƒå†…å®¹ -->
  <view wx:if="{{activeTab === 'posts'}}" class="content">
    <view class="posts-list">
      <view wx:for="{{myPosts}}" wx:key="id" class="post-item" bindtap="viewPostDetail" data-id="{{item.id}}">
        <image wx:if="{{item.url.includes('picsum.photos')}}" src="{{item.url}}" class="post-image"></image>
        <view class="post-info">
          <view class="post-title">{{item.title}}</view>
          <view class="post-meta">
            <text class="post-type">{{item.type}}</text>
            <text class="post-date">{{item.publishedAt}}</text>
            <text class="post-stats">ğŸ‘ {{item.views}} â¤ {{item.likes}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- æµè§ˆå†å²å†…å®¹ -->
  <view wx:if="{{activeTab === 'history'}}" class="content">
    <view class="history-list">
      <view wx:for="{{browseHistory}}" wx:key="id" class="history-item" bindtap="viewHistoryDetail" data-id="{{item.id}}">
        <image wx:if="{{item.url.includes('picsum.photos')}}" src="{{item.url}}" class="history-image"></image>
        <view class="history-info">
          <view class="history-title">{{item.title}}</view>
          <view class="history-meta">
            <text class="history-type">{{item.type}}</text>
            <text class="history-date">{{item.viewedAt}}</text>
            <text class="history-duration">{{item.duration}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- è®¾ç½®å†…å®¹ -->
  <view wx:if="{{activeTab === 'settings'}}" class="content">
    <view class="settings-list">
      <view class="setting-item">
        <text class="setting-label">ä¸»é¢˜åˆ‡æ¢</text>
        <view class="setting-value">
          <switch checked="{{theme === 'dark'}}" bindchange="toggleTheme"></switch>
          <text>{{theme === 'dark' ? 'æ·±è‰²' : 'æµ…è‰²'}}</text>
        </view>
      </view>
      <view class="setting-item">
        <text class="setting-label">é€šçŸ¥è®¾ç½®</text>
        <switch checked="{{settings.notifications}}" bindchange="toggleNotifications"></switch>
      </view>
      <view class="setting-item">
        <text class="setting-label">è‡ªåŠ¨åˆ·æ–°</text>
        <switch checked="{{settings.autoRefresh}}" bindchange="toggleAutoRefresh"></switch>
      </view>
      <view class="setting-item" bindtap="clearCache">
        <text class="setting-label">æ¸…ç©ºç¼“å­˜</text>
        <text class="setting-value">{{settings.cacheSize}}</text>
      </view>
      <view class="setting-item">
        <text class="setting-label">ç‰ˆæœ¬ä¿¡æ¯</text>
        <text class="setting-value">{{settings.version}}</text>
      </view>
    </view>
  </view>
</view>
